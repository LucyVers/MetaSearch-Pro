# TODO-LISTA F√ñR METADATA-PROJEKTET - BETYGSGRUNDANDE GRUPPINL√ÑMNINGSUPPGIFT

## üìã UPPGIFTSKRITERIER - "Metadata-s√∂kmotorn"

### **HUVUDM√ÖL:**
Bygga en s√∂kmotor som arbetar med metadata f√∂r olika filtyper (foton, PDF-filer, ljudfiler, PowerPoint-dokument)

### **TEKNISKA KRAV:**
- ‚úÖ Node.js f√∂r metadata-extraktion
- ‚úÖ Node.js f√∂r webbserver med REST-API
- ‚úÖ **MySQL-databas** (molntj√§nst) f√∂r metadata-lagring
- ‚úÖ Webbaserat frontend (HTML, CSS, JavaScript)
- ‚úÖ Git f√∂r versionshantering

### **FILTYPER ENLIGT UPPGIFTEN:**
- ‚úÖ **Foton** (JPG) - IMPLEMENTERAT
- ‚úÖ **PDF-filer** - IMPLEMENTERAT  
- ‚úÖ **Ljudfiler** (MP3) - IMPLEMENTERAT
- ‚úÖ **PowerPoint-dokument** (PPT) - IMPLEMENTERAT

### **USER STORIES ATT UPPFYLLA:**
1. ‚úÖ **System√§gare:** MySQL-databas f√∂r metadata-lagring
2. ‚úÖ **System√§gare:** System f√∂r att extrahera metadata fr√•n mappar
3. ‚úÖ **Bes√∂kare:** Webbaserat gr√§nssnitt f√∂r s√∂kning
4. ‚úÖ **Bes√∂kare:** Filtypsfiltrering i s√∂kning
5. ‚úÖ **Bes√∂kare:** S√∂kning p√• filnamn och metadata
6. [ ] **Bes√∂kare:** Avancerad s√∂kning (lika med, st√∂rre √§n, etc.)
7. [x] **Bes√∂kare:** Geografisk s√∂kning (lat/long) ‚úÖ SLUTF√ñRD!
8. ‚úÖ **Bes√∂kare/System√§gare:** Testdata f√∂r alla filtyper

### **BETYGSKRITERIER:**
- **G:** Fungerande s√∂kmotor
- **VG:** Fungerande s√∂kmotor + l√§ttanv√§nd + relevanta s√∂kresultat

---

## ‚úÖ **SLUTF√ñRDA FUNKTIONER (KRONOLOGISK ORDNING)**

### **1. PROJEKTINITIERING (SLUTF√ñRD)**
- [x] Skapa nytt Node.js-projekt
- [x] Konfigurera package.json med "type": "module"
- [x] Installera pdf-parse-fork
- [x] Installera express
- [x] Skapa grundl√§ggande projektstruktur

### **2. BACKEND-UTVECKLING (SLUTF√ñRD)**
- [x] Skapa Express-server
- [x] Implementera REST API-route f√∂r PDF-metadata
- [x] Anv√§nda pdf-parse-fork f√∂r metadata-extrahering
- [x] Hantera filsystem med fs-modulen
- [x] Extrahera titel fr√•n text
- [x] L√§gg till filstorlek
- [x] Visa PDF-version
- [x] Konvertera kommentarer till engelska
- [x] F√∂rb√§ttra datumhantering

### **3. FRONTEND-UTVECKLING (SLUTF√ñRD)**
- [x] Skapa HTML-struktur f√∂r metadata-visning
- [x] Implementera JavaScript f√∂r API-anrop
- [x] Visa PDF-metadata i tabellformat
- [x] L√§gg till nedladdningsl√§nkar f√∂r PDF-filer
- [x] Visa extraherade titlar
- [x] Visa filstorlek
- [x] Visa PDF-version
- [x] F√∂rb√§ttra datumvisning

### **4. STYLING OCH UX (SLUTF√ñRD)**
- [x] Skapa CSS f√∂r professionell layout
- [x] Styla nedladdningsknappar med hover-effekt
- [x] Styla PDF-titlar med ikoner
- [x] Responsiv design f√∂r olika sk√§rmstorlekar
- [x] Hover-effekter och animationer
- [x] Filtyp-specifika ikoner
- [x] Nedladdningsl√§nkar f√∂r alla filtyper

### **5. FILHANTERING OCH S√ÑKERHET (SLUTF√ñRD)**
- [x] Skapa frontend/pdfs/ mapp f√∂r testdata
- [x] Uppdatera .gitignore f√∂r att ignorera PDF-filer
- [x] Skapa README.md med instruktioner f√∂r testdata
- [x] Implementera best practices f√∂r stora filer

### **6. TESTNING OCH VALIDERING (SLUTF√ñRD)**
- [x] Testa backend med curl-kommandon
- [x] Verifiera att PDF-metadata extraheras korrekt
- [x] Testa frontend i webbl√§sare
- [x] Testa med olika PDF-format och storlekar
- [x] Verifiera att alla f√∂rb√§ttringar fungerar

### **7. DOKUMENTATION (SLUTF√ñRD)**
- [x] Uppdatera DOKUMENTATION.md med alla steg
- [x] Skapa ordlista f√∂r tekniska termer
- [x] Dokumentera best practices f√∂r Git och filhantering

### **8. MULTI-FILTYP ST√ñD (SLUTF√ñRD)**
- [x] L√§gg till st√∂d f√∂r JPG-bilder (EXIF-data)
- [x] L√§gg till st√∂d f√∂r MP3-filer (ID3-taggar)
- [x] L√§gg till st√∂d f√∂r PPT-filer (presentationer, slides)
- [x] Enhetlig s√∂kning √∂ver alla filtyper
- [x] Filtyp-specifik metadata-visning

### **9. S√ñKFUNKTION (SLUTF√ñRD)**
- [x] Backend: `/api/search` endpoint
- [x] Grundl√§ggande s√∂kning i titlar, f√∂rfattare, inneh√•ll
- [x] Debounce-funktion (1000ms)
- [x] Laddningsindikator ("Skriver...")
- [x] Realtid-s√∂kresultat

### **10. FILTYPSFILTRERING (SLUTF√ñRD)**
- [x] Dropdown f√∂r att v√§lja filtyp (PDF, JPG, MP3, PPT)
- [x] Backend: Filtrera s√∂kresultat per filtyp
- [x] Frontend: Visa endast vald filtyp
- [x] S√∂kning fungerar √§ven utan s√∂kterm (endast filtrering)

### **11. AVANCERAD METADATA-EXTRAKTION (SLUTF√ñRD)**
- [x] Text-sammanfattning (f√∂rsta 200 tecken)
- [x] Automatisk nyckelord-extraktion
- [x] Spr√•kdetektering
- [x] Automatisk kategorisering (rapport, artikel, etc.)
- [x] F√∂rb√§ttrad f√∂rfattare-extraktion

### **12. GIT BRANCHES TR√ÑNING (SLUTF√ñRD)**
- [x] Skapa test-branch f√∂r musikfiler
- [x] L√§ra mig branch-hantering s√§kert
- [x] Tr√§na merge-konflikter
- [x] Skapa backup-strategi
- [x] Dokumentera Git-workflow

### **13. MYSQL-DATABAS INTEGRATION (SLUTF√ñRD)**
- [x] Installera Sequelize ORM och mysql2
- [x] Skapa databas-anslutning med credentials.json
- [x] Designa enhetlig FileMetadata-modell f√∂r alla filtyper
- [x] Implementera automatisk tabell-skapning
- [x] Modifiera `/api/metadata` f√∂r att spara i databas
- [x] Skapa `/api/database-metadata` endpoint
- [x] Testa anslutning och bulk-import av 80 filer
- [x] Fixa JPG location-f√§lt (objekt till JSON-string)
- [x] S√§ker credentials-hantering med gitignore

---

## üöÄ **AKTUELLA UPPGIFTER (PRIORITERADE)**



### **13. AVANCERAD S√ñKFUNKTION (KRITISK PRIORITET - G-KRITERIUM)** ‚úÖ SLUTF√ñRD!
- [x] **STEG 1: S√∂koperatorer**
  - [x] S√∂koperatorer (lika med, inte lika med, st√∂rre √§n, mindre √§n)
  - [x] Datumintervall-s√∂kning
  - [x] Filstorleks-s√∂kning
  - [x] Metadata-specifik s√∂kning per filtyp

- [x] **STEG 2: Geografisk s√∂kning** ‚úÖ SLUTF√ñRD!
  - [x] Extrahera GPS-koordinater fr√•n EXIF-data
  - [x] Implementera lat/long-s√∂kning
  - [x] Visa resultat p√• karta (valfritt)
  - [x] **GPS-s√∂kning debugged och fixad** - Case-sensitivity problem l√∂st
  - [x] **Frontend GPS-kontroller** - Automatisk visning f√∂r JPG-filer
  - [x] **Backend GPS-logik** - Exakt matchning av koordinater

### **14. RELEVANSSORTERING (VG-KRITERIUM)** ‚úÖ SLUTF√ñRD!
- [x] **STEG 1: Grundl√§ggande relevans**
  - [x] Sortera efter matchande f√§lt
  - [x] Prioritera exakta matchningar
  - [x] Implementera fuzzy matching f√∂r text

- [x] **STEG 2: Avancerad relevans**
  - [x] Viktning av olika metadata-f√§lt
  - [x] S√∂khistorik-baserad relevans
  - [x] Anv√§ndarinteraktion-baserad relevans

### **15. GOOGLE DRIVE-DELNING (ENLIGT UPPGIFTEN)**
- [ ] **Ladda upp alla testfiler till Google Drive**
  - [ ] PDF-filer (20 st) fr√•n frontend/pdfs/
  - [ ] JPG-filer (20 st) fr√•n frontend/jpgs/
  - [ ] MP3-filer fr√•n frontend/mp3s/
  - [ ] PPT-filer fr√•n frontend/ppts/
- [ ] **Skapa delningsl√§nk f√∂r l√§raren**
- [ ] **Skapa instruktioner f√∂r l√§raren**
  - [ ] Hur man laddar ner filerna
  - [ ] Hur man l√§gger dem i r√§tt mappar
  - [ ] Hur man startar servern

### **16. LUCY'S EGNA VAL och m√•l f√∂r att ta projektet till n√§sta niv√•!üåü

#### **STEG 1: PROFESSIONELL WEBSITE DESIGN** üé® ‚úÖ SLUTF√ñRD!
- [x] **Header med navigation** - Logo, meny, s√∂kf√§lt
- [x] **Footer med information** - Kontakt, tekniker, GitHub-l√§nk
- [x] **Modern layout** - Grid-system, cards, animations
- [x] **Responsiv design** - Mobil, tablet, desktop
- [x] **Loading-animationer** - Snygga √∂verg√•ngar

#### **STEG 1.5: NAVIGATION OCH PROFESSIONELLA SIDOR** üåê ‚úÖ SLUTF√ñRD!
- [x] **"Om oss" sida** - Professionell presentation av SONBERG STUDIO
  - [x] Projektbeskrivning och tekniska f√§rdigheter
  - [x] Tj√§nster som erbjuds (metadata, webbutveckling, databas)
  - [x] LIA och konsultm√∂jligheter
  - [x] Portfolio och GitHub-l√§nkar
- [x] **"Kontakt" sida** - Kontaktformul√§r och information
  - [x] Kontaktformul√§r f√∂r f√∂retagsf√∂rfr√•gningar
  - [x] Lucy's kontaktinfo och sociala medier
  - [x] Tj√§nster och priser
  - [x] LIA-praktikm√∂jligheter
- [x] **Smooth navigation** - Snygga √∂verg√•ngar mellan sidorna
  - [x] JavaScript navigation utan page reload
  - [x] CSS animationer f√∂r sid√∂verg√•ngar
  - [x] Responsiv design f√∂r alla enheter
- [x] **SOLID-principer** - Enkel och underh√•llbar kod
  - [x] Separata HTML-filer f√∂r varje sida
  - [x] √Öteranv√§ndbar CSS
  - [x] Enkel JavaScript-navigation
  - [x] Ingen komplex kod eller frameworks

#### **STEG 2: LJUDFILER MED SPELARE** üéµ
- [ ] **Inbyggd MP3-spelare** - Snyggt designad med kontroller
- [ ] **Ljudsnuttar** - Spela 30 sekunder av varje l√•t
- [ ] **Playlist-funktion** - Skapa spellistor av MP3-filer
- [ ] **Ljudvisualisering** - Spektrogram eller waveform
- [ ] **Volymkontroll** - Individuell volym per fil

#### **STEG 3: BILDGALLERI F√ñR JPG** üì∏
- [ ] **Lightbox-galleri** - Klicka f√∂r st√∂rre bilder
- [ ] **Zoom-funktion** - Zooma in p√• detaljer
- [ ] **Slideshow** - Automatisk bildspel
- [ ] **Thumbnail-grid** - Snyggt grid-layout
- [ ] **Bildrotation** - Rotera bilder

#### **STEG 4: AVANCERADE FUNKTIONER** ‚ö°
- [ ] **PDF-preview** - Visa f√∂rsta sidan direkt
- [ ] **PowerPoint-preview** - Visa f√∂rsta sliden
- [ ] **Favoriter-system** - Spara favoritfiler
- [ ] **S√∂khistorik** - Visa tidigare s√∂kningar
- [ ] **Taggar-system** - L√§gg till taggar p√• filer

#### **STEG 5: INTERAKTIVA FUNKTIONER** üéÆ
- [ ] **Drag & drop upload** - Dra filer direkt till sidan
- [ ] **Bulk-export** - Exportera flera filer som ZIP
- [ ] **Filtypsstatistik** - Visa antal filer per typ
- [ ] **Metadata-editor** - Redigera metadata direkt
- [ ] **Dark/Light mode** - V√§xla mellan teman

#### **STEG 6: AVANCERAD S√ñKNING** üîç
- [ ] **Fuzzy search** - Hitta filer √§ven med stavfel
- [ ] **Avancerade filter** - Datum, storlek, typ
- [ ] **S√∂kresultat-export** - Spara s√∂kresultat
- [ ] **S√∂kstatistik** - Visa hur m√•nga resultat
- [ ] **S√∂kf√∂rslag** - Automatiska f√∂rslag

#### **STEG 7: PERFORMANCE OCH UX** üöÄ
- [ ] **Lazy loading** - Ladda bilder n√§r de beh√∂vs
- [ ] **Infinite scroll** - Ladda fler resultat automatiskt
- [ ] **Keyboard shortcuts** - Snabba tangentbordskommandon
- [ ] **Offline-st√∂d** - Fungera utan internet
- [ ] **Push-notifikationer** - Meddelanden om nya filer

### **17. GOOGLE DRIVE-DELNING (ENLIGT UPPGIFTEN)** - SKIPPAS TILL SENARE
- [ ] **Ladda upp alla testfiler till Google Drive** (100 filer per datatyp)
- [ ] **Skapa delningsl√§nk f√∂r l√§raren**
- [ ] **Skapa instruktioner f√∂r l√§raren**

---

## üéØ **PROJEKT STATUS**

### **VAD JAG HAR UPPN√ÖTT:**
- ‚úÖ **Grundl√§ggande metadata-extraktion** f√∂r PDF, JPG, MP3, PPT
- ‚úÖ **Webbbaserat gr√§nssnitt** f√∂r s√∂kning och visning
- ‚úÖ **Enkel s√∂kfunktion** med debounce
- ‚úÖ **Filtypsfiltrering** med dropdown
- ‚úÖ **Git-versionshantering** med branching-tr√§ning
- ‚úÖ **Professionell kodstruktur** med best practices
- ‚úÖ **MySQL-databas integration** med Sequelize ORM
- ‚úÖ **Automatisk metadata-sparning** f√∂r alla filtyper

### **VAD JAG BEH√ñVER F√ñR UPPGIFTEN:**
- ‚úÖ **MySQL-databas** (molntj√§nst) - KRITISKT f√∂r G-betyg
- ‚úÖ **Avancerad s√∂kning** (operatorer) - KRITISKT f√∂r G-betyg
- ‚úÖ **Geografisk s√∂kning** (GPS-koordinater) - KRITISKT f√∂r G-betyg ‚úÖ SLUTF√ñRD!
- ‚úÖ **Relevanssortering** - KRITISKT f√∂r VG-betyg ‚úÖ SLUTF√ñRD!

### **N√ÑSTA STEG (PRIORITET 1):**
1. ‚úÖ **MySQL-databas integration** - KRITISKT f√∂r G-betyg
2. ‚úÖ **Avancerad s√∂kning** - Operatorer (lika med, st√∂rre √§n, mindre √§n)
3. ‚úÖ **Geografisk s√∂kning** - GPS-koordinater f√∂r JPG-filer
4. ‚úÖ **Relevanssortering** - Sortera resultat efter relevans ‚úÖ SLUTF√ñRD!

### **LUCY'S EGNA VAL:**
5. **üé® PROFESSIONELL WEBSITE DESIGN** - Header, footer, modern layout
6. **üéµ LJUDFILER MED SPELARE** - MP3-spelare med kontroller
7. **üì∏ BILDGALLERI F√ñR JPG** - Lightbox, zoom, slideshow
8. **‚ö° AVANCERADE FUNKTIONER** - Preview, favoriter, taggar
9. **üéÆ INTERAKTIVA FUNKTIONER** - Drag & drop, export, statistik
10. **üîç AVANCERAD S√ñKNING** - Fuzzy search, filter, f√∂rslag
11. **üöÄ PERFORMANCE OCH UX** - Lazy loading, shortcuts, offline

---

## üö® **L√ñSTA PROBLEM (HISTORIK)**

### **EXIF-VISNINGSPROBLEM F√ñR JPG-FILER** ‚úÖ L√ñST!
- [x] **Problem:** EXIF-data (Photo Date, Photographer, Location, Camera) syns inte i frontend
- [x] **L√∂sning:** Kontrollera frontend-logik f√∂r JPG-specifik metadata-visning
- [x] **Resultat:** All EXIF-data visas korrekt (Dimensions, Camera, Photo Date, Location)

### **S√ñKNINGSPROBLEM** ‚úÖ L√ñST!
- [x] **Problem:** S√∂kresultat visar bara f√∂rsta bokstaven ("P" ist√§llet f√∂r "PDF")
- [x] **Problem:** S√∂kning triggas f√∂r tidigt vid l√•ngsam skrivning
- [x] **L√∂sning:** Implementerat debounce (1000ms f√∂rdr√∂jning)
- [x] **Resultat:** S√∂kning fungerar perfekt f√∂r b√•de snabb och l√•ngsam skrivning

### **CSS-LAYOUT PROBLEM** ‚úÖ L√ñST!
- [x] **Problem:** L√•nga filnamn trunkeras i tabeller
- [x] **Problem:** Text-trunkering av metadata
- [x] **L√∂sning:** √ñkad kolumnbredd, text-wrapping, table-layout: fixed
- [x] **Resultat:** Alla filnamn och metadata visas korrekt

### **POWERPOINT-TITEL PROBLEM** ‚úÖ L√ñST!
- [x] **Problem:** PowerPoint-filer visar "Slide 1", "7264", "Arial 32" som titlar
- [x] **L√∂sning:** Intelligent titel-extraktion baserat p√• company och slide_count
- [x] **Resultat:** PowerPoint-filer visar beskrivande titlar

### **JPG LOCATION DATABAS-PROBLEM** ‚úÖ L√ñST!
- [x] **Problem:** JPG location-f√§lt √§r objekt men databasen f√∂rv√§ntar sig string
- [x] **L√∂sning:** Konvertera location-objekt till JSON-string med `JSON.stringify()`
- [x] **Resultat:** Alla JPG-filer sparas korrekt i databasen

### **GPS-S√ñKNING DEBUGGING** ‚úÖ L√ñST!
- [x] **Problem:** GPS-s√∂kning visade alla 20 JPG-filer ist√§llet f√∂r att filtrera
- [x] **Root Cause:** Case-sensitivity - `metadata.fileType === 'jpg'` matchade inte `'JPG'`
- [x] **L√∂sning:** √Ñndrade till `metadata.fileType === 'jpg' || metadata.fileType === 'JPG'`
- [x] **Resultat:** GPS-s√∂kning fungerar perfekt - hittar exakt 1 fil med r√§tt koordinater
- [x] **Cleanup:** Alla debug-loggar borttagna fr√•n backend och frontend