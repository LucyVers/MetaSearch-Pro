<!--  We are using HTML 5-->
<!DOCTYPE html>
<!-- The html starts here -->
<html lang="en">

<!-- Here the head section (mostly metadata starts)-->

<head>
  <!-- Tell the browser that we use utf-8 character encoding -->
  <meta charset="UTF-8">
  <!-- Tell all mobile browsers not to scale down the content -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- The title to show in the browser tab -->
  <title>PDF Metadata Viewer</title>
  <!-- Tell the web browser to load our css file -->
  <link rel="stylesheet" href="style.css">
  <!-- Favicon to avoid 404 errors -->
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>🔍</text></svg>">
  <!-- PDF.js library for PDF rendering -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  <script>
    // Configure PDF.js worker
    if (typeof pdfjsLib !== 'undefined') {
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
    }
  </script>
</head>

<!-- The visible content of the web page starts here the body-->

<body>
  <!-- SONBERG STUDIO Header -->
  <header class="studio-header">
    <div class="header-container">
      <div class="logo">
        <h1 class="logo-text">SONBERG STUDIO</h1>
        <p class="logo-subtitle">Metadata Search Engine</p>
      </div>
      <nav class="main-nav">
        <a href="#" class="nav-link" id="homeNavLink">Hem</a>
        <a href="#" class="nav-link">Sök</a>
        <a href="dashboard.html" class="nav-link">📊 Dashboard</a>
        <a href="#" class="nav-link" id="favoritesNavLink">❤️ Favoriter</a>
        <a href="about.html" class="nav-link">Om oss</a>
        <a href="blog.html" class="nav-link">Blogg</a>
        <a href="contact.html" class="nav-link">Kontakt</a>
      </nav>
    </div>
  </header>

  <!-- Search container for PDF metadata -->
  <div class="search-container">
    <div class="search-controls">
      <input type="text" id="searchInput" placeholder="Sök i alla filtyper..." class="search-input">
      <select id="fileTypeFilter" class="file-type-filter">
        <option value="all">Alla filtyper</option>
        <option value="pdf">📄 PDF-filer</option>
        <option value="jpg">🖼️ JPG-bilder</option>
        <option value="mp3">🎵 MP3-ljud</option>
        <option value="ppt">📊 PowerPoint</option>
      </select>
      <select id="searchOperator" class="search-operator">
        <option value="contains">Innehåller</option>
        <option value="equals">Lika med</option>
        <option value="not_equals">Inte lika med</option>
        <option value="greater_than">Större än</option>
        <option value="less_than">Mindre än</option>
      </select>

      <!-- Avancerad sökning toggle-knapp -->
      <div class="advanced-search-toggle">
        <button type="button" id="advancedToggleBtn" class="advanced-toggle-btn">
          Avancerat <span class="toggle-arrow">▼</span>
        </button>
      </div>
    </div>

    <!-- Avancerade filter (dolt som standard) -->
    <div class="advanced-filters" id="advancedFilters" style="display: none;">
      <div class="filter-section">
        <h4 class="filter-title">📏 Filstorlek</h4>
        <div class="size-filter-group">
          <input type="number" id="minSizeInput" placeholder="Min (KB)" class="size-input" min="0">
          <span class="filter-separator">-</span>
          <input type="number" id="maxSizeInput" placeholder="Max (KB)" class="size-input" min="0">
          <div class="preset-buttons">
            <button type="button" class="preset-btn" data-size="small">📄 Små (&lt;1MB)</button>
            <button type="button" class="preset-btn" data-size="large">📊 Stora (&gt;5MB)</button>
          </div>
        </div>
      </div>

      <div class="filter-section">
        <h4 class="filter-title">📅 Datum</h4>
        <div class="date-filter-group">
          <input type="date" id="minDateInput" class="date-input">
          <span class="filter-separator">-</span>
          <input type="date" id="maxDateInput" class="date-input">
          <div class="preset-buttons">
            <button type="button" class="preset-btn" data-date="month">📅 Senaste månaden</button>
            <button type="button" class="preset-btn" data-date="year">🗓️ I år</button>
          </div>
        </div>
      </div>

      <div class="filter-section">
        <h4 class="filter-title">🎯 Aktiva filter</h4>
        <div class="active-filters" id="activeFilters">
          <span class="no-filters">Inga aktiva filter</span>
        </div>
        <div class="filter-actions">
          <button type="button" id="clearAllFilters" class="clear-filters-btn">🗑️ Rensa alla</button>
          <button type="button" id="applyFilters" class="apply-filters-btn">✅ Tillämpa filter</button>
        </div>
      </div>
    </div>
    <div class="gps-search-controls" id="gpsSearchControls" style="display: none;">
      <div class="gps-input-group">
        <input type="number" id="latitudeInput" placeholder="Latitud (t.ex. 59.3293)" class="gps-input" step="any">
        <input type="number" id="longitudeInput" placeholder="Longitud (t.ex. 18.0686)" class="gps-input" step="any">
      </div>
      <select id="gpsOperator" class="gps-operator">
        <option value="equals">Exakt position</option>
        <option value="greater_than">Öster om longitud</option>
        <option value="less_than">Väster om longitud</option>
        <option value="greater_than_lat">Norr om latitud</option>
        <option value="less_than_lat">Söder om latitud</option>
      </select>
    </div>
    <div id="searchResults" class="search-results"></div>
    <div id="searchHistory" class="search-history"></div>
  </div>
  
  <main></main>

  <!-- SONBERG STUDIO Footer -->
  <footer class="studio-footer">
    <div class="footer-container">
      <div class="footer-section">
        <h3>SONBERG STUDIO</h3>
        <p>Avancerad metadata-sökmotor för alla filtyper</p>
      </div>
      <div class="footer-section">
        <h4>Tekniker</h4>
        <p>Node.js • Express • MySQL • JavaScript</p>
      </div>
      <div class="footer-section">
        <h4>Kontakt</h4>
        <p>Lucy Sonberg</p>
        <a href="https://github.com/LucyVers/MetaSearch-Pro" target="_blank" class="footer-link">GitHub</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 SONBERG STUDIO. Alla rättigheter förbehållna.</p>
    </div>
  </footer>

  <script type="module" src="main.js"></script>
</body>

</html>